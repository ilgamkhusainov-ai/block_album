# block_album

Рабочая документация MVP находится в `docs/`.
Стартовая структура Unity проекта находится в `UnityProject/`.

## Быстрый старт Unity
1. Открой `block_album/UnityProject` в Unity `6000.3.8f1`.
2. Запусти меню: `BlockAlbum -> Setup -> Create MVP Scenes`.
3. Открой сцену `Assets/_Project/Scenes/Gameplay.unity`.
4. Убедись, что `SafeArea` корректно ограничивает UI на устройстве.
5. Нажми Play: `BoardArea` и `PieceTray` автоматически получают Day 2 компоненты.
6. В Day 3: перетяни фигуру из `PieceTray` на поле, смотри ghost preview и отпусти для постановки.
7. В Day 4: после постановки срабатывают очистки линий/зон `3x3`, счет обновляется в `TopBar`.
8. В Day 5: комбо (мульти-очистка + серия) дают бонус очков и заряжают силу в `TopBar` (серия сбрасывается на 3-м ходу без очистки).
9. В Day 6: блокеры перекрывают клетки и двигаются каждые 2 хода игрока на соседние клетки (включая диагонали), могут встать на фигуру, уничтожаются очисткой и респавнятся через 10 ходов.
10. В Day 8: доступны бустеры (`Swap`, `Bomb H`, `Bomb V`, `Bomb 3x3`) и цель уровня по очкам; бустеры тратят и заряд, и `Power` (заряд от комбо), не срабатывают по пустому тапу, для бомб выбери кнопку и тапни по занятой клетке/блокеру.
11. В Day 9: при `WIN/FAIL` появляется overlay с `NEXT LEVEL` (после победы), `PLAY AGAIN` (после поражения) и `SECOND CHANCE`; second chance возвращает игру только если удается обеспечить валидный ход.
12. В текущем балансе: за простую постановку очки не начисляются; при очистке линии/зоны начисляются очки только за линии/зоны; при очистке бустером начисляется `+1` за каждый очищенный `cell`.
13. В UI добавлен разбор начислений за ход: `TopBar` + in-game feed по источникам (`Cells/Blockers/Lines/Zones/Combo`).
14. В Day 10: progression до 40 уровней, фиксированная цель уровня `1000` очков, сложность растет через вариативность фигур (`Variety T1..T13`) каждые 2 уровня до 24-го; с `25+` используется полный пул.
15. Для `41+` заложен резервный каталог фигур (пока не включен в генерацию).
16. Перед стартом уровня показывается 5-секундный pop-up с пулом фигур текущего уровня и подсветкой новой/усиленной фигуры; на `Level 1` все фигуры отмечаются как `NEW`.
17. В Day 11: автоподсказка после паузы игрока (после первого хода) проверяет все фигуры в руке и показывает ghost лучшего доступного хода; приоритет: очистка линии -> при отсутствии line clear максимальное приближение линий/областей к заполнению -> минимум остатков фигуры -> максимум ожидаемых очков/комбо. Дополнительно подсказка старается ставить фигуры ближе к основной массе уже поставленных клеток. Подсказка моргает 2 секунды, затем скрывается и может появиться снова через 10 секунд бездействия.

## Документы
- `docs/MVP_SPEC_RU.md`
- `docs/SPRINT_14D_RU.md`
- `docs/PROJECT_STRUCTURE_RU.md`
- `docs/UI_TARGET_IPHONE15_PLUS.md`
- `docs/PROGRESS.md`
